#!/usr/bin/env node
module.exports=function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=19)}([function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f={}.hasOwnProperty;d=n(1),h=d.isObject,p=d.isFunction,l=d.isEmpty,s=null,e=null,r=null,i=null,o=null,c=null,u=null,a=null,t.exports=function(){function XMLNode(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=n(2),e=n(3),r=n(4),i=n(5),o=n(6),c=n(11),u=n(12),a=n(13))}return XMLNode.prototype.element=function(t,e,n){var r,i,o,s,a,c,u,d,m,y;if(c=null,null==e&&(e={}),e=e.valueOf(),h(e)||(m=[e,n],n=m[0],e=m[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,u=t.length;o<u;o++)i=t[o],c=this.element(i);else if(p(t))c=this.element(t.apply());else if(h(t)){for(a in t)if(f.call(t,a))if(y=t[a],p(y)&&(y=y.apply()),h(y)&&l(y)&&(y=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),y);else if(!this.options.separateArrayItems&&Array.isArray(y))for(s=0,d=y.length;s<d;s++)i=y[s],r={},r[a]=i,c=this.element(r);else h(y)?(c=this.element(a),c.element(y)):c=this.element(a,y)}else c=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n);if(null==c)throw new Error("Could not create any elements with: "+t);return c},XMLNode.prototype.insertBefore=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},XMLNode.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},XMLNode.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},XMLNode.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),h(e)||(i=[e,n],n=i[0],e=i[1]),r=new s(this,t,e),null!=n&&r.text(n),this.children.push(r),r},XMLNode.prototype.text=function(t){var e;return e=new u(this,t),this.children.push(e),this},XMLNode.prototype.cdata=function(t){var n;return n=new e(this,t),this.children.push(n),this},XMLNode.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},XMLNode.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},XMLNode.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},XMLNode.prototype.raw=function(t){var e;return e=new c(this,t),this.children.push(e),this},XMLNode.prototype.instruction=function(t,e){var n,r,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)n=t[o],this.instruction(n);else if(h(t))for(n in t)f.call(t,n)&&(r=t[n],this.instruction(n,r));else p(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},XMLNode.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},XMLNode.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},XMLNode.prototype.declaration=function(t,e,n){var r,o;return r=this.document(),o=new i(r,t,e,n),r.children[0]instanceof i?r.children[0]=o:r.children.unshift(o),r.root()||r},XMLNode.prototype.doctype=function(t,e){var n,r,i,s,a,c,u,l,p,h;for(r=this.document(),i=new o(r,t,e),p=r.children,s=a=0,u=p.length;a<u;s=++a)if((n=p[s])instanceof o)return r.children[s]=i,i;for(h=r.children,s=c=0,l=h.length;c<l;s=++c)if(n=h[s],n.isRoot)return r.children.splice(s,0,i),i;return r.children.push(i),i},XMLNode.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},XMLNode.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},XMLNode.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},XMLNode.prototype.end=function(t){return this.document().end(t)},XMLNode.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},XMLNode.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},XMLNode.prototype.importDocument=function(t){var e;return e=t.root().clone(),e.parent=this,e.isRoot=!1,this.children.push(e),this},XMLNode.prototype.ele=function(t,e,n){return this.element(t,e,n)},XMLNode.prototype.nod=function(t,e,n){return this.node(t,e,n)},XMLNode.prototype.txt=function(t){return this.text(t)},XMLNode.prototype.dat=function(t){return this.cdata(t)},XMLNode.prototype.com=function(t){return this.comment(t)},XMLNode.prototype.ins=function(t,e){return this.instruction(t,e)},XMLNode.prototype.doc=function(){return this.document()},XMLNode.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},XMLNode.prototype.dtd=function(t,e){return this.doctype(t,e)},XMLNode.prototype.e=function(t,e,n){return this.element(t,e,n)},XMLNode.prototype.n=function(t,e,n){return this.node(t,e,n)},XMLNode.prototype.t=function(t){return this.text(t)},XMLNode.prototype.d=function(t){return this.cdata(t)},XMLNode.prototype.c=function(t){return this.comment(t)},XMLNode.prototype.r=function(t){return this.raw(t)},XMLNode.prototype.i=function(t,e){return this.instruction(t,e)},XMLNode.prototype.u=function(){return this.up()},XMLNode.prototype.importXMLBuilder=function(t){return this.importDocument(t)},XMLNode}()}).call(this)},function(t,e){(function(){var e,n,r,i,o,s,a,c,u,l,p,h,d=[].slice,f={}.hasOwnProperty;e=function(){var t,e,n,r,i,o;if(o=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)f.call(r,e)&&(o[e]=r[e]);return o},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},a=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},i=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(i(t))return!t.length;for(e in t)if(f.call(t,e))return!1;return!0},c=function(t){var e,n;return a(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},h=function(t){return(t.split(/[-_\s]+|(?=[A-Z][a-z])/)||[]).filter(function(t){return!!t})},n=function(t){var e,n,i,o,s,a;for(o="",s=h(t),n=e=0,i=s.length;e<i;n=++e)a=s[n],o+=n?r(a.toLowerCase()):a.toLowerCase();return o},p=function(t){var e,n,i,o,s,a;for(o="",s=h(t),n=e=0,i=s.length;e<i;n=++e)a=s[n],o+=r(a.toLowerCase());return o},u=function(t){var e,n,r,i,o,s;for(i="",o=h(t),n=e=0,r=o.length;e<r;n=++e)s=o[n],i+=(n?"-":"")+s.toLowerCase();return i},l=function(t){var e,n,r,i,o,s;for(i="",o=h(t),n=e=0,r=o.length;e<r;n=++e)s=o[n],i+=(n?"_":"")+s.toLowerCase();return i},r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports.assign=e,t.exports.isFunction=s,t.exports.isObject=a,t.exports.isArray=i,t.exports.isEmpty=o,t.exports.isPlainObject=c,t.exports.camelCase=n,t.exports.titleCase=p,t.exports.kebabCase=u,t.exports.snakeCase=l,t.exports.capitalize=r,t.exports.words=h}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a=function(t,e){function ctor(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},c={}.hasOwnProperty;s=n(1),o=s.isObject,i=s.isFunction,r=n(0),e=n(16),t.exports=function(t){function XMLElement(t,e,n){if(XMLElement.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=n&&this.attribute(n),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return a(XMLElement,t),XMLElement.prototype.clone=function(){var t,e,n,r;n=Object.create(this),n.isRoot&&(n.documentObject=null),n.attributes={},r=this.attributes;for(e in r)c.call(r,e)&&(t=r[e],n.attributes[e]=t.clone());return n.children=[],this.children.forEach(function(t){var e;return e=t.clone(),e.parent=n,n.children.push(e)}),n},XMLElement.prototype.attribute=function(t,n){var r,s;if(null!=t&&(t=t.valueOf()),o(t))for(r in t)c.call(t,r)&&(s=t[r],this.attribute(r,s));else i(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.attributes[t]=new e(this,t,n));return this},XMLElement.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},XMLElement.prototype.toString=function(t){return this.options.writer.set(t).element(this)},XMLElement.prototype.att=function(t,e){return this.attribute(t,e)},XMLElement.prototype.a=function(t,e){return this.attribute(t,e)},XMLElement}(r)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLCData(t,e){if(XMLCData.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(e)}return r(XMLCData,t),XMLCData.prototype.clone=function(){return Object.create(this)},XMLCData.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},XMLCData}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLComment(t,e){if(XMLComment.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text");this.text=this.stringify.comment(e)}return r(XMLComment,t),XMLComment.prototype.clone=function(){return Object.create(this)},XMLComment.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},XMLComment}(e)}).call(this)},function(t,e,n){(function(){var e,r,i=function(t,e){function ctor(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=n(1).isObject,e=n(0),t.exports=function(t){function XMLDeclaration(t,e,n,i){var o;XMLDeclaration.__super__.constructor.call(this,t),r(e)&&(o=e,e=o.version,n=o.encoding,i=o.standalone),e||(e="1.0"),this.version=this.stringify.xmlVersion(e),null!=n&&(this.encoding=this.stringify.xmlEncoding(n)),null!=i&&(this.standalone=this.stringify.xmlStandalone(i))}return i(XMLDeclaration,t),XMLDeclaration.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},XMLDeclaration}(e)}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c=function(t,e){function ctor(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(1).isObject,s=n(0),e=n(7),i=n(8),r=n(9),o=n(10),t.exports=function(t){function XMLDocType(t,e,n){var r,i;XMLDocType.__super__.constructor.call(this,t),this.documentObject=t,a(e)&&(r=e,e=r.pubID,n=r.sysID),null==n&&(i=[e,n],n=i[0],e=i[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return c(XMLDocType,t),XMLDocType.prototype.element=function(t,e){var n;return n=new r(this,t,e),this.children.push(n),this},XMLDocType.prototype.attList=function(t,n,r,i,o){var s;return s=new e(this,t,n,r,i,o),this.children.push(s),this},XMLDocType.prototype.entity=function(t,e){var n;return n=new i(this,!1,t,e),this.children.push(n),this},XMLDocType.prototype.pEntity=function(t,e){var n;return n=new i(this,!0,t,e),this.children.push(n),this},XMLDocType.prototype.notation=function(t,e){var n;return n=new o(this,t,e),this.children.push(n),this},XMLDocType.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},XMLDocType.prototype.ele=function(t,e){return this.element(t,e)},XMLDocType.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},XMLDocType.prototype.ent=function(t,e){return this.entity(t,e)},XMLDocType.prototype.pent=function(t,e){return this.pEntity(t,e)},XMLDocType.prototype.not=function(t,e){return this.notation(t,e)},XMLDocType.prototype.up=function(){return this.root()||this.documentObject},XMLDocType}(s)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLDTDAttList(t,e,n,r,i,o){if(XMLDTDAttList.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return r(XMLDTDAttList,t),XMLDTDAttList.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},XMLDTDAttList}(e)}).call(this)},function(t,e,n){(function(){var e,r,i=function(t,e){function ctor(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=n(1).isObject,e=n(0),t.exports=function(t){function XMLDTDEntity(t,e,n,i){if(XMLDTDEntity.__super__.constructor.call(this,t),null==n)throw new Error("Missing entity name");if(null==i)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(n),r(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity");if(null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(i)}return i(XMLDTDEntity,t),XMLDTDEntity.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},XMLDTDEntity}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLDTDElement(t,e,n){if(XMLDTDElement.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(n)}return r(XMLDTDElement,t),XMLDTDElement.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},XMLDTDElement}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLDTDNotation(t,e,n){if(XMLDTDNotation.__super__.constructor.call(this,t),null==e)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return r(XMLDTDNotation,t),XMLDTDNotation.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},XMLDTDNotation}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLRaw(t,e){if(XMLRaw.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text");this.value=this.stringify.raw(e)}return r(XMLRaw,t),XMLRaw.prototype.clone=function(){return Object.create(this)},XMLRaw.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},XMLRaw}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLText(t,e){if(XMLText.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text");this.value=this.stringify.eleText(e)}return r(XMLText,t),XMLText.prototype.clone=function(){return Object.create(this)},XMLText.prototype.toString=function(t){return this.options.writer.set(t).text(this)},XMLText}(e)}).call(this)},function(t,e,n){(function(){var e,r=function(t,e){function ctor(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},i={}.hasOwnProperty;e=n(0),t.exports=function(t){function XMLProcessingInstruction(t,e,n){if(XMLProcessingInstruction.__super__.constructor.call(this,t),null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),n&&(this.value=this.stringify.insValue(n))}return r(XMLProcessingInstruction,t),XMLProcessingInstruction.prototype.clone=function(){return Object.create(this)},XMLProcessingInstruction.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},XMLProcessingInstruction}(e)}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f,m=function(t,e){function ctor(){this.constructor=t}for(var n in e)y.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},y={}.hasOwnProperty;c=n(5),u=n(6),e=n(3),r=n(4),l=n(2),h=n(11),d=n(12),p=n(13),i=n(7),o=n(9),s=n(8),a=n(10),f=n(18),t.exports=function(t){function XMLStringWriter(t){XMLStringWriter.__super__.constructor.call(this,t)}return m(XMLStringWriter,t),XMLStringWriter.prototype.document=function(t){var e,n,i,o,s;for(o="",s=t.children,n=0,i=s.length;n<i;n++)e=s[n],o+=function(){switch(!1){case!(e instanceof c):return this.declaration(e);case!(e instanceof u):return this.docType(e);case!(e instanceof r):return this.comment(e);case!(e instanceof p):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},XMLStringWriter.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},XMLStringWriter.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},XMLStringWriter.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},XMLStringWriter.prototype.declaration=function(t,e){var n;return n=this.space(e),n+='<?xml version="'+t.version+'"',null!=t.encoding&&(n+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(n+=' standalone="'+t.standalone+'"'),n+="?>",n+=this.newline},XMLStringWriter.prototype.docType=function(t,n){var c,u,l,h,d;if(n||(n=0),h=this.space(n),h+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?h+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(h+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(h+=" [",h+=this.newline,d=t.children,u=0,l=d.length;u<l;u++)c=d[u],h+=function(){switch(!1){case!(c instanceof i):return this.dtdAttList(c,n+1);case!(c instanceof o):return this.dtdElement(c,n+1);case!(c instanceof s):return this.dtdEntity(c,n+1);case!(c instanceof a):return this.dtdNotation(c,n+1);case!(c instanceof e):return this.cdata(c,n+1);case!(c instanceof r):return this.comment(c,n+1);case!(c instanceof p):return this.processingInstruction(c,n+1);default:throw new Error("Unknown DTD node type: "+c.constructor.name)}}.call(this);h+="]"}return h+=">",h+=this.newline},XMLStringWriter.prototype.element=function(t,n){var i,o,s,a,c,u,f,m,g;n||(n=0),g=this.space(n),u="",u+=g+"<"+t.name,f=t.attributes;for(c in f)y.call(f,c)&&(i=f[c],u+=this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?u+="></"+t.name+">"+this.newline:u+="/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)u+=">",u+=t.children[0].value,u+="</"+t.name+">"+this.newline;else{for(u+=">"+this.newline,m=t.children,s=0,a=m.length;s<a;s++)o=m[s],u+=function(){switch(!1){case!(o instanceof e):return this.cdata(o,n+1);case!(o instanceof r):return this.comment(o,n+1);case!(o instanceof l):return this.element(o,n+1);case!(o instanceof h):return this.raw(o,n+1);case!(o instanceof d):return this.text(o,n+1);case!(o instanceof p):return this.processingInstruction(o,n+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);u+=g+"</"+t.name+">"+this.newline}return u},XMLStringWriter.prototype.processingInstruction=function(t,e){var n;return n=this.space(e)+"<?"+t.target,t.value&&(n+=" "+t.value),n+="?>"+this.newline},XMLStringWriter.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},XMLStringWriter.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},XMLStringWriter.prototype.dtdAttList=function(t,e){var n;return n=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(n+=" "+t.defaultValueType),t.defaultValue&&(n+=' "'+t.defaultValue+'"'),n+=">"+this.newline},XMLStringWriter.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.newline},XMLStringWriter.prototype.dtdEntity=function(t,e){var n;return n=this.space(e)+"<!ENTITY",t.pe&&(n+=" %"),n+=" "+t.name,t.value?n+=' "'+t.value+'"':(t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),t.nData&&(n+=" NDATA "+t.nData)),n+=">"+this.newline},XMLStringWriter.prototype.dtdNotation=function(t,e){var n;return n=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?n+=' PUBLIC "'+t.pubID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),n+=">"+this.newline},XMLStringWriter.prototype.openNode=function(t,e){var n,r,i,o;if(e||(e=0),t instanceof l){i=this.space(e)+"<"+t.name,o=t.attributes;for(r in o)y.call(o,r)&&(n=o[r],i+=this.attribute(n));return i+=(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=(t.children?" [":">")+this.newline},XMLStringWriter.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof l):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof u):return this.space(e)+"]>"+this.newline}},XMLStringWriter}(f)}).call(this)},function(e,n){function copy(t,e){for(var n in t)e[n]=t[n]}function _extends(e,n){function t(){}var r=e.prototype;if(Object.create){var i=Object.create(n.prototype);r.__proto__=i}r instanceof n||(t.prototype=n.prototype,t=new t,copy(r,t),e.prototype=r=t),r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}function DOMException(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,w[t]),this.message=w[t],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return n.code=t,e&&(this.message=this.message+": "+e),n}function NodeList(){}function LiveNodeList(t,e){this._node=t,this._refresh=e,_updateLiveList(this)}function _updateLiveList(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);__set__(t,"length",n.length),copy(n,t),t._inc=e}}function NamedNodeMap(){}function _findNodeIndex(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function _addNamedNode(t,e,n,r){if(r?e[_findNodeIndex(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&_onRemoveAttribute(i,t,r),_onAddAttribute(i,t,n))}}function _removeNamedNode(t,e,n){var r=_findNodeIndex(e,n);if(!(r>=0))throw DOMException(N,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var o=t.ownerDocument;o&&(_onRemoveAttribute(o,t,n),n.ownerElement=null)}}function DOMImplementation(t){if(this._features={},t)for(var e in t)this._features=t[e]}function Node(){}function _xmlEncoder(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function _visitNode(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(_visitNode(t,e))return!0}while(t=t.nextSibling)}function Document(){}function _onAddAttribute(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function _onRemoveAttribute(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function _removeChild(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,_onUpdateChild(t.ownerDocument,t),e}function _insertBefore(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===m){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var s=n?n.previousSibling:t.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:t.firstChild=i,null==n?t.lastChild=o:n.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return _onUpdateChild(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function _appendSingleChild(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,_onUpdateChild(t.ownerDocument,t,e),e}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function nodeSerializeToString(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i){var i=r.lookupPrefix(o);if(null==i)var s=[{namespace:o,prefix:null}]}return serializeToString(this,n,t,e,s),n.join("")}function needNamespaceDefine(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=i}return!0}function serializeToString(t,e,n,i,l){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case o:l||(l=[]);var y=(l.length,t.attributes),g=y.length,w=t.firstChild,v=t.tagName;n=r===t.namespaceURI||n,e.push("<",v);for(var N=0;N<g;N++){var D=y.item(N);"xmlns"==D.prefix?l.push({prefix:D.localName,namespace:D.value}):"xmlns"==D.nodeName&&l.push({prefix:"",namespace:D.value})}for(var N=0;N<g;N++){var D=y.item(N);if(needNamespaceDefine(D,n,l)){var L=D.prefix||"",M=D.namespaceURI,_=L?" xmlns:"+L:" xmlns";e.push(_,'="',M,'"'),l.push({prefix:L,namespace:M})}serializeToString(D,e,n,i,l)}if(needNamespaceDefine(t,n,l)){var L=t.prefix||"",M=t.namespaceURI,_=L?" xmlns:"+L:" xmlns";e.push(_,'="',M,'"'),l.push({prefix:L,namespace:M})}if(w||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(e.push(">"),n&&/^script$/i.test(v))for(;w;)w.data?e.push(w.data):serializeToString(w,e,n,i,l),w=w.nextSibling;else for(;w;)serializeToString(w,e,n,i,l),w=w.nextSibling;e.push("</",v,">")}else e.push("/>");return;case d:case m:for(var w=t.firstChild;w;)serializeToString(w,e,n,i,l),w=w.nextSibling;return;case s:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,_xmlEncoder),'"');case a:return e.push(t.data.replace(/[<&]/g,_xmlEncoder));case c:return e.push("<![CDATA[",t.data,"]]>");case h:return e.push("\x3c!--",t.data,"--\x3e");case f:var b=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),b)e.push(' PUBLIC "',b),E&&"."!=E&&e.push('" "',E),e.push('">');else if(E&&"."!=E)e.push(' SYSTEM "',E,'">');else{var C=t.internalSubset;C&&e.push(" [",C,"]"),e.push(">")}return;case p:return e.push("<?",t.target," ",t.data,"?>");case u:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function importNode(t,e,n){var r;switch(e.nodeType){case o:r=e.cloneNode(!1),r.ownerDocument=t;case m:break;case s:n=!0}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(importNode(t,i,n)),i=i.nextSibling;return r}function cloneNode(t,e,n){var r=new e.constructor;for(var i in e){var a=e[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(e.childNodes&&(r.childNodes=new NodeList),r.ownerDocument=t,r.nodeType){case o:var c=e.attributes,u=r.attributes=new NamedNodeMap,l=c.length;u._ownerElement=r;for(var p=0;p<l;p++)r.setAttributeNode(cloneNode(t,c.item(p),!0));break;case s:n=!0}if(n)for(var h=e.firstChild;h;)r.appendChild(cloneNode(t,h,n)),h=h.nextSibling;return r}function __set__(t,e,n){t[e]=n}function getTextContent(t){switch(t.nodeType){case o:case m:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(getTextContent(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}var r="http://www.w3.org/1999/xhtml",i={},o=i.ELEMENT_NODE=1,s=i.ATTRIBUTE_NODE=2,a=i.TEXT_NODE=3,c=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,p=i.PROCESSING_INSTRUCTION_NODE=7,h=i.COMMENT_NODE=8,d=i.DOCUMENT_NODE=9,f=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,y=i.NOTATION_NODE=12,g={},w={},v=(g.INDEX_SIZE_ERR=(w[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(w[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(w[3]="Hierarchy request error",3)),N=(g.WRONG_DOCUMENT_ERR=(w[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(w[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(w[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(w[7]="No modification allowed",7),g.NOT_FOUND_ERR=(w[8]="Not found",8)),D=(g.NOT_SUPPORTED_ERR=(w[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(w[10]="Attribute in use",10));g.INVALID_STATE_ERR=(w[11]="Invalid state",11),g.SYNTAX_ERR=(w[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(w[13]="Invalid modification",13),g.NAMESPACE_ERR=(w[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(w[15]="Invalid access",15);DOMException.prototype=Error.prototype,copy(g,DOMException),NodeList.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)serializeToString(this[r],n,t,e);return n.join("")}},LiveNodeList.prototype.item=function(t){return _updateLiveList(this),this[t]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new DOMException(D);var n=this.getNamedItem(t.nodeName);return _addNamedNode(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new DOMException(D);return e=this.getNamedItemNS(t.namespaceURI,t.localName),_addNamedNode(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return _removeNamedNode(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return _removeNamedNode(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},DOMImplementation.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new Document;if(r.implementation=this,r.childNodes=new NodeList,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new DocumentType;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return _insertBefore(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return _removeChild(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return cloneNode(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==a&&t.nodeType==a?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==s?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},copy(i,Node),copy(i,Node.prototype),Document.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==o&&(this.documentElement=t),_insertBefore(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),_removeChild(this,t)},importNode:function(t,e){return importNode(this,t,e)},getElementById:function(t){var e=null;return _visitNode(this.documentElement,function(n){if(n.nodeType==o&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new Element;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new NodeList,(e.attributes=new NamedNodeMap)._ownerElement=e,e},createDocumentFragment:function(){var t=new DocumentFragment;return t.ownerDocument=this,t.childNodes=new NodeList,t},createTextNode:function(t){var e=new Text;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Comment;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new CDATASection;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Attr;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new EntityReference;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Element,r=e.split(":"),i=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Attr,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},_extends(Document,Node),Element.prototype={nodeType:o,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):_appendSingleChild(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new LiveNodeList(this,function(e){var n=[];return _visitNode(e,function(r){r===e||r.nodeType!=o||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new LiveNodeList(this,function(n){var r=[];return _visitNode(n,function(i){i===n||i.nodeType!==o||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=s,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(w[v])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:a,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:h},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:c},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=f,_extends(DocumentType,Node),Notation.prototype.nodeType=y,_extends(Notation,Node),Entity.prototype.nodeType=l,_extends(Entity,Node),EntityReference.prototype.nodeType=u,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=m,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=p,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(t,e,n){return nodeSerializeToString.call(t,e,n)},Node.prototype.toString=nodeSerializeToString;try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(t){switch(this.nodeType){case o:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),__set__=function(t,e,n){t["$$"+e]=n})}catch(t){}n.DOMImplementation=DOMImplementation,n.XMLSerializer=XMLSerializer},function(t,e){(function(){t.exports=function(){function XMLAttribute(t,e,n){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return XMLAttribute.prototype.clone=function(){return Object.create(this)},XMLAttribute.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},XMLAttribute}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty;i=n(1),e=i.camelCase,s=i.titleCase,r=i.kebabCase,o=i.snakeCase,t.exports=function(){function XMLStringifier(t){this.assertLegalChar=a(this.assertLegalChar,this);var e,n,r;t||(t={}),this.allowSurrogateChars=t.allowSurrogateChars,this.noDoubleEncoding=t.noDoubleEncoding,this.textCase=t.textCase,n=t.stringify||{};for(e in n)c.call(n,e)&&(r=n[e],this[e]=r)}return XMLStringifier.prototype.eleName=function(t){return t=""+t||"",t=this.applyCase(t),this.assertLegalChar(t)},XMLStringifier.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},XMLStringifier.prototype.cdata=function(t){return t=""+t||"",t=t.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},XMLStringifier.prototype.comment=function(t){if(t=""+t||"",t.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},XMLStringifier.prototype.raw=function(t){return""+t||""},XMLStringifier.prototype.attName=function(t){return t=""+t||"",t=this.applyCase(t)},XMLStringifier.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},XMLStringifier.prototype.insTarget=function(t){return""+t||""},XMLStringifier.prototype.insValue=function(t){if(t=""+t||"",t.match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},XMLStringifier.prototype.xmlVersion=function(t){if(t=""+t||"",!t.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},XMLStringifier.prototype.xmlEncoding=function(t){if(t=""+t||"",!t.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+t);return t},XMLStringifier.prototype.xmlStandalone=function(t){return t?"yes":"no"},XMLStringifier.prototype.dtdPubID=function(t){return""+t||""},XMLStringifier.prototype.dtdSysID=function(t){return""+t||""},XMLStringifier.prototype.dtdElementValue=function(t){return""+t||""},XMLStringifier.prototype.dtdAttType=function(t){return""+t||""},XMLStringifier.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},XMLStringifier.prototype.dtdEntityValue=function(t){return""+t||""},XMLStringifier.prototype.dtdNData=function(t){return""+t||""},XMLStringifier.prototype.convertAttKey="@",XMLStringifier.prototype.convertPIKey="?",XMLStringifier.prototype.convertTextKey="#text",XMLStringifier.prototype.convertCDataKey="#cdata",XMLStringifier.prototype.convertCommentKey="#comment",XMLStringifier.prototype.convertRawKey="#raw",XMLStringifier.prototype.assertLegalChar=function(t){var e,n;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t+" at index "+n.index);return t},XMLStringifier.prototype.applyCase=function(t){switch(this.textCase){case"camel":return e(t);case"title":return s(t);case"kebab":case"lower":return r(t);case"snake":return o(t);case"upper":return r(t).toUpperCase();default:return t}},XMLStringifier.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},XMLStringifier.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},XMLStringifier}()}).call(this)},function(t,e){(function(){var e={}.hasOwnProperty;t.exports=function(){function XMLWriterBase(t){var n,r,i,o,s,a,c;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(r=t.allowEmpty)&&r,this.pretty?(this.indent=null!=(i=t.indent)?i:"  ",this.newline=null!=(o=t.newline)?o:"\n",this.offset=null!=(s=t.offset)?s:0):(this.indent="",this.newline="",this.offset=0),a=t.writer||{};for(n in a)e.call(a,n)&&(c=a[n],this[n]=c)}return XMLWriterBase.prototype.set=function(t){var n,r,i;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0):(this.indent="",this.newline="",this.offset=0),r=t.writer||{};for(n in r)e.call(r,n)&&(i=r[n],this[n]=i);return this},XMLWriterBase.prototype.space=function(t){return this.pretty?new Array((t||0)+this.offset+1).join(this.indent):""},XMLWriterBase}()}).call(this)},function(t,e,n){var r=n(20),i=n(21);t.exports=function(t){var e=t.requireCordovaModule("../cordova/util"),o=(t.requireCordovaModule("../platforms/platforms"),e.isCordova()),s=t.requireCordovaModule("elementtree"),a=n(22),c=function(){var t,e,n={android:{"android-manifest-hardwareAccelerated":{target:"AndroidManifest.xml",parent:"./",destination:"android:hardwareAccelerated"},"android-installLocation":{target:"AndroidManifest.xml",parent:"./",destination:"android:installLocation"},"android-activity-hardwareAccelerated":{target:"AndroidManifest.xml",parent:"application",destination:"android:hardwareAccelerated"},"android-configChanges":{target:"AndroidManifest.xml",parent:"__cordovaMainActivity__",destination:"android:configChanges"},"android-launchMode":{target:"AndroidManifest.xml",parent:"__cordovaMainActivity__",destination:"android:launchMode"},"android-theme":{target:"AndroidManifest.xml",parent:"__cordovaMainActivity__",destination:"android:theme"},"android-windowSoftInputMode":{target:"AndroidManifest.xml",parent:"__cordovaMainActivity__",destination:"android:windowSoftInputMode"},"android-applicationName":{target:"AndroidManifest.xml",parent:"application",destination:"android:name"}},ios:{}};return{parseElementtreeSync:function(t){var e=r.readFileSync(t,"utf-8");return e&&(e=e.substring(e.indexOf("<"))),new s.ElementTree(s.XML(e))},eltreeToXmlString:function(t){var e=t.tag,n="<"+e+">";return t.text&&t.text.trim()?n+=t.text.trim():t.getchildren().forEach(function(t){n+=c.eltreeToXmlString(t)}),n+="</"+e+">"},getConfigXml:function(){return t||(t=this.parseElementtreeSync(i.join(o,"config.xml"))),t},getPreferences:function(t){var n=this.getConfigXml();e||(e={common:n.findall("preference")});var r=e.common||[];return t&&(e[t]||(e[t]=n.findall("platform[@name='"+t+"']/preference")),r=r.concat(e[t])),r},getConfigFilesByTargetAndParent:function(t){var e=this.getConfigXml().findall("platform[@name='"+t+"']/config-file"),n={};return e.forEach(function(t){var e=t.attrib.parent;e&&"/*"!==e&&"*/"!==e||(e="./");var r=t.attrib.target+"|"+e;n[r]=t}),n},parseConfigXml:function(t){var e={};return this.parsePreferences(e,t),this.parseConfigFiles(e,t),e},parsePreferences:function(t,e){this.getPreferences(e).forEach(function(r){if(n[e]){var i,o,s=n[e][r.attrib.name];s&&(o={parent:s.parent,type:"preference",destination:s.destination,data:r},i=s.target,t[i]||(t[i]=[]),t[i].push(o))}})},parseConfigFiles:function(t,e){var n=this.getConfigFilesByTargetAndParent(e);for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],o=r.split("|"),s=o[0],a=o[1],c=t[s]||[];i.getchildren().forEach(function(t){c.push({parent:a,type:"configFile",destination:t.tag,data:t})}),t[s]=c}},updatePlatformConfig:function(t){var e=this.parseConfigXml(t),n=i.join(o,"platforms",t);for(var r in e)if(e.hasOwnProperty(r)){var s,a,u=e[r];"ios"===t&&r.indexOf("Info.plist")>-1?(s=c.getConfigXml().findtext("name"),a=i.join(n,s,s+"-Info.plist"),c.updateIosPlist(a,u)):"android"===t&&"AndroidManifest.xml"===r&&(a=i.join(n,r),c.updateAndroidManifest(a,u))}},getMainAndroidActivityNode:function(t){return t.find("application/activity/intent-filter/action[@android:name='android.intent.action.MAIN']/../..")},updateAndroidManifest:function(t,e){var n=c.parseElementtreeSync(t),i=n.getroot(),o=c.getMainAndroidActivityNode(i);e.forEach(function(t){var e;e="__cordovaMainActivity__"===t.parent?o:i.find(t.parent)||i.find("*/"+t.parent);var n,r=t.data,a=t.destination;if(e)if("preference"===t.type)e.attrib[a]=r.attrib.value;else if("uses-permission"===a&&(a+="[@android:name='"+r.attrib["android:name"]+"']"),n=e.find(a),n||(n=new s.Element(t.destination),e.append(n)),"object"==typeof r)for(var c in r)r.hasOwnProperty(c)&&"_id"!==c&&(n[c]=r[c])}),r.writeFileSync(t,n.write({indent:4}),"utf-8"),console.log("Wrote AndroidManifest.xml: "+t)},updateIosPlist:function(t,e){var n,i=a.parse(r.readFileSync(t,"utf-8"));e.forEach(function(t){var e=t.parent,n="<plist><dict><key>"+e+"</key>";n+=c.eltreeToXmlString(t.data)+"</dict></plist>";var r=a.parse(n);i[e]=r[e]}),n=a.build(i),n=n.replace(/<string>[\s\r\n]*<\/string>/g,"<string></string>"),r.writeFileSync(t,n,"utf-8"),console.log("Wrote iOS Plist: "+t)}}}();!function(){if(o){var t=[];r.readdirSync("platforms").forEach(function(e){r.statSync(i.resolve("platforms",e)).isDirectory()&&t.push(e)}),t.forEach(function(t){try{t=t.trim().toLowerCase(),console.log("Processing settings for platform: "+t),c.updatePlatformConfig(t)}catch(t){process.stdout.write(t)}})}}()}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,n){var r=n(23);Object.keys(r).forEach(function(t){e[t]=r[t]});var i=n(26);Object.keys(i).forEach(function(t){e[t]=i[t]})},function(t,e,n){function shouldIgnoreNode(t){return t.nodeType===i||t.nodeType===s||t.nodeType===o}function isEmptyNode(t){return!t.childNodes||0===t.childNodes.length}function invariant(t,e){if(!t)throw new Error(e)}function parse(t){var e=(new r).parseFromString(t);invariant("plist"===e.documentElement.nodeName,"malformed document. First element should be <plist>");var n=parsePlistXML(e.documentElement);return 1==n.length&&(n=n[0]),n}function parsePlistXML(t){var e,n,r,s,a,c,u;if(!t)return null;if("plist"===t.nodeName){if(s=[],isEmptyNode(t))return s;for(e=0;e<t.childNodes.length;e++)shouldIgnoreNode(t.childNodes[e])||s.push(parsePlistXML(t.childNodes[e]));return s}if("dict"===t.nodeName){if(n={},r=null,c=0,isEmptyNode(t))return n;for(e=0;e<t.childNodes.length;e++)shouldIgnoreNode(t.childNodes[e])||(c%2==0?(invariant("key"===t.childNodes[e].nodeName,"Missing key while parsing <dict/>."),r=parsePlistXML(t.childNodes[e])):(invariant("key"!==t.childNodes[e].nodeName,'Unexpected key "'+parsePlistXML(t.childNodes[e])+'" while parsing <dict/>.'),n[r]=parsePlistXML(t.childNodes[e])),c+=1);if(c%2==1)throw new Error('Missing value for "'+r+'" while parsing <dict/>');return n}if("array"===t.nodeName){if(s=[],isEmptyNode(t))return s;for(e=0;e<t.childNodes.length;e++)shouldIgnoreNode(t.childNodes[e])||null!=(a=parsePlistXML(t.childNodes[e]))&&s.push(a);return s}if("#text"===t.nodeName);else{if("key"===t.nodeName)return isEmptyNode(t)?"":t.childNodes[0].nodeValue;if("string"===t.nodeName){if(a="",isEmptyNode(t))return a;for(e=0;e<t.childNodes.length;e++){var u=t.childNodes[e].nodeType;u!==i&&u!==o||(a+=t.childNodes[e].nodeValue)}return a}if("integer"===t.nodeName)return invariant(!isEmptyNode(t),'Cannot parse "" as integer.'),parseInt(t.childNodes[0].nodeValue,10);if("real"===t.nodeName){for(invariant(!isEmptyNode(t),'Cannot parse "" as real.'),a="",e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===i&&(a+=t.childNodes[e].nodeValue);return parseFloat(a)}if("data"===t.nodeName){if(a="",isEmptyNode(t))return new Buffer(a,"base64");for(e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===i&&(a+=t.childNodes[e].nodeValue.replace(/\s+/g,""));return new Buffer(a,"base64")}if("date"===t.nodeName)return invariant(!isEmptyNode(t),'Cannot parse "" as Date.'),new Date(t.childNodes[0].nodeValue);if("true"===t.nodeName)return!0;if("false"===t.nodeName)return!1}}var r=n(24).DOMParser;e.parse=parse;var i=3,o=4,s=8},function(t,e,n){function DOMParser(t){this.options=t||{locator:{}}}function buildErrorHandler(t,e,n){function build(e){var o=t[e];!o&&i&&(o=2==t.length?function(n){t(e,n)}:t),r[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+_locator(n))}||function(){}}if(!t){if(e instanceof DOMHandler)return e;t=e}var r={},i=t instanceof Function;return n=n||{},build("warning"),build("error"),build("fatalError"),r}function DOMHandler(){this.cdata=!1}function position(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function _locator(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function _toString(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function appendElement(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}DOMParser.prototype.parseFromString=function(t,e){var n=this.options,i=new r,o=n.domBuilder||new DOMHandler,s=n.errorHandler,a=n.locator,c=n.xmlns||{},u={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&o.setDocumentLocator(a),i.errorHandler=buildErrorHandler(s,o,a),i.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(u.nbsp="",u.copy="",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,c,u):i.errorHandler.error("invalid doc source"),o.doc},DOMHandler.prototype={startDocument:function(){this.doc=(new i).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,o=i.createElementNS(t,n||e),s=r.length;appendElement(this,o),this.currentElement=o,this.locator&&position(this.locator,o);for(var a=0;a<s;a++){var t=r.getURI(a),c=r.getValue(a),n=r.getQName(a),u=i.createAttributeNS(t,n);this.locator&&position(r.getLocator(a),u),u.value=u.nodeValue=c,o.setAttributeNode(u)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&position(this.locator,n),appendElement(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=_toString.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&position(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=_toString.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&position(this.locator,r),appendElement(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&position(this.locator,i),appendElement(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,_locator(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,_locator(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,_locator(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){DOMHandler.prototype[t]=function(){return null}});var r=n(25).XMLReader,i=e.DOMImplementation=n(15).DOMImplementation;e.XMLSerializer=n(15).XMLSerializer,e.DOMParser=DOMParser},function(t,e){function XMLReader(){}function parse(t,e,n,r,i){function fixedFromCharCode(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function entityReplacer(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?fixedFromCharCode(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function appendText(e){if(e>p){var n=t.substring(p,e).replace(/&#?\w+;/g,entityReplacer);c&&position(p),r.characters(n,0,e-p),p=e}}function position(e,n){for(;e>=s&&(n=a.exec(t));)o=n.index,s=o+n[0].length,c.lineNumber++;c.columnNumber=e-o+1}for(var o=0,s=0,a=/.*(?:\r\n?|\n)|.*$/g,c=r.locator,u=[{currentNSMap:e}],l={},p=0;;){try{var h=t.indexOf("<",p);if(h<0){if(!t.substr(p).match(/^\s*$/)){var d=r.doc,f=d.createTextNode(t.substr(p));d.appendChild(f),r.currentElement=f}return}switch(h>p&&appendText(h),t.charAt(h+1)){case"/":var m=t.indexOf(">",h+3),y=t.substring(h+2,m),g=u.pop();m<0?(y=t.substring(h+2).replace(/[\s<].*/,""),i.error("end tag name: "+y+" is not complete:"+g.tagName),m=h+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),i.error("end tag name: "+y+" maybe not complete"),m=h+1+y.length);var w=g.localNSMap,v=g.tagName==y;if(v||g.tagName&&g.tagName.toLowerCase()==y.toLowerCase()){if(r.endElement(g.uri,g.localName,y),w)for(var N in w)r.endPrefixMapping(N);v||i.fatalError("end tag name: "+y+" is not match the current start tagName:"+g.tagName)}else u.push(g);m++;break;case"?":c&&position(h),m=parseInstruction(t,h,r);break;case"!":c&&position(h),m=parseDCC(t,h,r,i);break;default:c&&position(h);var D=new ElementAttributes,L=u[u.length-1].currentNSMap,m=parseElementStartPart(t,h,D,L,entityReplacer,i),M=D.length;if(!D.closed&&fixSelfClosed(t,m,D.tagName,l)&&(D.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),c&&M){for(var _=copyLocator(c,{}),b=0;b<M;b++){var E=D[b];position(E.offset),E.locator=copyLocator(c,{})}r.locator=_,appendElement(D,r,L)&&u.push(D),r.locator=c}else appendElement(D,r,L)&&u.push(D);"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?m++:m=parseHtmlSpecialContent(t,m,D.tagName,entityReplacer,r)}}catch(t){i.error("element parse error: "+t),m=-1}m>p?p=m:appendText(Math.max(h,p)+1)}}function copyLocator(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function parseElementStartPart(t,e,n,r,i,d){for(var f,m,y=++e,g=o;;){var w=t.charAt(y);switch(w){case"=":if(g===s)f=t.slice(e,y),g=c;else{if(g!==a)throw new Error("attribute equal must after attrName");g=c}break;case"'":case'"':if(g===c||g===s){if(g===s&&(d.warning('attribute value must after "="'),f=t.slice(e,y)),e=y+1,!((y=t.indexOf(w,e))>0))throw new Error("attribute value no end '"+w+"' match");m=t.slice(e,y).replace(/&#?\w+;/g,i),n.add(f,m,e-1),g=l}else{if(g!=u)throw new Error('attribute value must after "="');m=t.slice(e,y).replace(/&#?\w+;/g,i),n.add(f,m,e),d.warning('attribute "'+f+'" missed start quot('+w+")!!"),e=y+1,g=l}break;case"/":switch(g){case o:n.setTagName(t.slice(e,y));case l:case p:case h:g=h,n.closed=!0;case u:case s:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),g==o&&n.setTagName(t.slice(e,y)),y;case">":switch(g){case o:n.setTagName(t.slice(e,y));case l:case p:case h:break;case u:case s:m=t.slice(e,y),"/"===m.slice(-1)&&(n.closed=!0,m=m.slice(0,-1));case a:g===a&&(m=f),g==u?(d.warning('attribute "'+m+'" missed quot(")!!'),n.add(f,m.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&m.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),n.add(m,m,e));break;case c:throw new Error("attribute value missed!!")}return y;case"":w=" ";default:if(w<=" ")switch(g){case o:n.setTagName(t.slice(e,y)),g=p;break;case s:f=t.slice(e,y),g=a;break;case u:var m=t.slice(e,y).replace(/&#?\w+;/g,i);d.warning('attribute "'+m+'" missed quot(")!!'),n.add(f,m,e);case l:g=p}else switch(g){case a:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&f.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),n.add(f,f,e),e=y,g=s;break;case l:d.warning('attribute space is required"'+f+'"!!');case p:g=s,e=y;break;case c:g=u,e=y;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function appendElement(t,e,n){for(var r=t.tagName,i=null,o=t.length;o--;){var s=t[o],a=s.qName,c=s.value,u=a.indexOf(":");if(u>0)var l=s.prefix=a.slice(0,u),p=a.slice(u+1),h="xmlns"===l&&p;else p=a,l=null,h="xmlns"===a&&"";s.localName=p,!1!==h&&(null==i&&(i={},_copy(n,n={})),n[h]=i[h]=c,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(h,c))}for(var o=t.length;o--;){s=t[o];var l=s.prefix;l&&("xml"===l&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(s.uri=n[l||""]))}var u=r.indexOf(":");u>0?(l=t.prefix=r.slice(0,u),p=t.localName=r.slice(u+1)):(l=null,p=t.localName=r);var d=t.uri=n[l||""];if(e.startElement(d,p,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(d,p,r),i)for(l in i)e.endPrefixMapping(l)}function parseHtmlSpecialContent(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return e+1}function fixSelfClosed(t,e,n,r){var i=r[n];return null==i&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function _copy(t,e){for(var n in t)e[n]=t[n]}function parseDCC(t,e,n,r){switch(t.charAt(e+2)){case"-":if("-"===t.charAt(e+3)){var i=t.indexOf("--\x3e",e+4);return i>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var o=split(t,e),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],c=s>3&&/^public$/i.test(o[2][0])&&o[3][0],u=s>4&&o[4][0],l=o[s-1];return n.startDTD(a,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function parseInstruction(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function ElementAttributes(t){}function _set_proto_(t,e){return t.__proto__=e,t}function split(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,s=1,a=2,c=3,u=4,l=5,p=6,h=7;XMLReader.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),_copy(e,e={}),parse(t,e,n,r,this.errorHandler),r.endDocument()}},ElementAttributes.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(t,e){function p(){}p.prototype=e,p=new p;for(e in t)p[e]=t[e];return p}),e.XMLReader=XMLReader},function(t,e,n){function ISODateString(t){function pad(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"Z"}function type(t){var e=o.call(t).match(/\[object (.*)\]/);return e?e[1]:e}function build(t,e){var n={version:"1.0",encoding:"UTF-8"},r={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},o=i.create("plist");return o.dec(n.version,n.encoding,n.standalone),o.dtd(r.pubid,r.sysid),o.att("version","1.0"),walk_obj(t,o),e||(e={}),e.pretty=!1!==e.pretty,o.end(e)}function walk_obj(t,e){var n,i,o,s=type(t);if("Undefined"!=s)if(Array.isArray(t))for(e=e.ele("array"),i=0;i<t.length;i++)walk_obj(t[i],e);else if(Buffer.isBuffer(t))e.ele("data").raw(t.toString("base64"));else if("Object"==s){e=e.ele("dict");for(o in t)t.hasOwnProperty(o)&&(e.ele("key").txt(o),walk_obj(t[o],e))}else"Number"==s?(n=t%1==0?"integer":"real",e.ele(n).txt(t.toString())):"Date"==s?e.ele("date").txt(ISODateString(new Date(t))):"Boolean"==s?e.ele(t?"true":"false"):"String"==s?e.ele("string").txt(t):"ArrayBuffer"==s?e.ele("data").raw(r.fromByteArray(t)):t&&t.buffer&&"ArrayBuffer"==type(t.buffer)&&e.ele("data").raw(r.fromByteArray(new Uint8Array(t.buffer),e))}var r=n(27),i=n(28);e.build=build;var o=Object.prototype.toString},function(t,e,n){"use strict";function placeHoldersCount(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function byteLength(t){return 3*t.length/4-placeHoldersCount(t)}function toByteArray(t){var e,n,r,s,a,c,u=t.length;a=placeHoldersCount(t),c=new o(3*u/4-a),r=a>0?u-4:u;var l=0;for(e=0,n=0;e<r;e+=4,n+=3)s=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],c[l++]=s>>16&255,c[l++]=s>>8&255,c[l++]=255&s;return 2===a?(s=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,c[l++]=255&s):1===a&&(s=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,c[l++]=s>>8&255,c[l++]=255&s),c}function tripletToBase64(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function encodeChunk(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(tripletToBase64(r));return i.join("")}function fromByteArray(t){for(var e,n=t.length,i=n%3,o="",s=[],a=0,c=n-i;a<c;a+=16383)s.push(encodeChunk(t,a,a+16383>c?c:a+16383));return 1===i?(e=t[n-1],o+=r[e>>2],o+=r[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=r[e>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="="),s.push(o),s.join("")}e.byteLength=byteLength,e.toByteArray=toByteArray,e.fromByteArray=fromByteArray;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){(function(){var e,r,i,o,s,a,c;c=n(1),s=c.assign,a=c.isFunction,e=n(29),r=n(30),o=n(14),i=n(31),t.exports.create=function(t,n,r,i){var o,a;if(null==t)throw new Error("Root element needs a name");return i=s({},n,r,i),o=new e(i),a=o.element(t),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),a},t.exports.begin=function(t,n,i){var o;return a(t)&&(o=[t,n],n=o[0],i=o[1],t={}),n?new r(t,n,i):new e(t)},t.exports.stringWriter=function(t){return new o(t)},t.exports.streamWriter=function(t,e){return new i(t,e)}}).call(this)},function(t,e,n){(function(){var e,r,i,o,s=function(t,e){function ctor(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(1).isPlainObject,e=n(0),i=n(17),r=n(14),t.exports=function(t){function XMLDocument(t){XMLDocument.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new r),this.options=t,this.stringify=new i(t),this.isDocument=!0}return s(XMLDocument,t),XMLDocument.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},XMLDocument.prototype.toString=function(t){return this.options.writer.set(t).document(this)},XMLDocument}(e)}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f,m,y,g,w,v,N,D={}.hasOwnProperty;N=n(1),w=N.isObject,g=N.isFunction,v=N.isPlainObject,p=n(2),r=n(3),i=n(4),d=n(11),y=n(12),h=n(13),u=n(5),l=n(6),o=n(7),a=n(8),s=n(9),c=n(10),e=n(16),m=n(17),f=n(14),t.exports=function(){function XMLDocumentCB(t,e,n){var r;t||(t={}),t.writer?v(t.writer)&&(r=t.writer,t.writer=new f(r)):t.writer=new f(t),this.options=t,this.writer=t.writer,this.stringify=new m(t),this.onDataCallback=e||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return XMLDocumentCB.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),w(e)||(r=[e,n],n=r[0],e=r[1]),this.currentNode=new p(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},XMLDocumentCB.prototype.element=function(t,e,n){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(t,e,n)},XMLDocumentCB.prototype.attribute=function(t,n){var r,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),w(t))for(r in t)D.call(t,r)&&(i=t[r],this.attribute(r,i));else g(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[t]=new e(this,t,n));return this},XMLDocumentCB.prototype.text=function(t){var e;return this.openCurrent(),e=new y(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},XMLDocumentCB.prototype.cdata=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},XMLDocumentCB.prototype.comment=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},XMLDocumentCB.prototype.raw=function(t){var e;return this.openCurrent(),e=new d(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},XMLDocumentCB.prototype.instruction=function(t,e){var n,r,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(n=0,o=t.length;n<o;n++)r=t[n],this.instruction(r);else if(w(t))for(r in t)D.call(t,r)&&(i=t[r],this.instruction(r,i));else g(e)&&(e=e.apply()),s=new h(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},XMLDocumentCB.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return r=new u(this,t,e,n),this.onData(this.writer.declaration(r,this.currentLevel+1)),this},XMLDocumentCB.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new l(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},XMLDocumentCB.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new s(this,t,e),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},XMLDocumentCB.prototype.attList=function(t,e,n,r,i){var s;return this.openCurrent(),s=new o(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},XMLDocumentCB.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},XMLDocumentCB.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},XMLDocumentCB.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new c(this,t,e),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},XMLDocumentCB.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},XMLDocumentCB.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},XMLDocumentCB.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},XMLDocumentCB.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof p&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},XMLDocumentCB.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},XMLDocumentCB.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},XMLDocumentCB.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},XMLDocumentCB.prototype.ele=function(){return this.element.apply(this,arguments)},XMLDocumentCB.prototype.nod=function(t,e,n){return this.node(t,e,n)},XMLDocumentCB.prototype.txt=function(t){return this.text(t)},XMLDocumentCB.prototype.dat=function(t){return this.cdata(t)},XMLDocumentCB.prototype.com=function(t){return this.comment(t)},XMLDocumentCB.prototype.ins=function(t,e){return this.instruction(t,e)},XMLDocumentCB.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},XMLDocumentCB.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},XMLDocumentCB.prototype.e=function(t,e,n){return this.element(t,e,n)},XMLDocumentCB.prototype.n=function(t,e,n){return this.node(t,e,n)},XMLDocumentCB.prototype.t=function(t){return this.text(t)},XMLDocumentCB.prototype.d=function(t){return this.cdata(t)},XMLDocumentCB.prototype.c=function(t){return this.comment(t)},XMLDocumentCB.prototype.r=function(t){return this.raw(t)},XMLDocumentCB.prototype.i=function(t,e){return this.instruction(t,e)},XMLDocumentCB.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},XMLDocumentCB.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},XMLDocumentCB.prototype.ent=function(t,e){return this.entity(t,e)},XMLDocumentCB.prototype.pent=function(t,e){return this.pEntity(t,e)},XMLDocumentCB.prototype.not=function(t,e){return this.notation(t,e)},XMLDocumentCB}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f,m=function(t,e){function ctor(){this.constructor=t}for(var n in e)y.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},y={}.hasOwnProperty;c=n(5),u=n(6),e=n(3),r=n(4),l=n(2),h=n(11),d=n(12),p=n(13),i=n(7),o=n(9),s=n(8),a=n(10),f=n(18),t.exports=function(t){function XMLStreamWriter(t,e){this.stream=t,XMLStreamWriter.__super__.constructor.call(this,e)}return m(XMLStreamWriter,t),XMLStreamWriter.prototype.document=function(t){var e,n,i,o,s,a,l,h;for(a=t.children,n=0,o=a.length;n<o;n++)e=a[n],e.isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,l=t.children,h=[],i=0,s=l.length;i<s;i++)switch(e=l[i],!1){case!(e instanceof c):h.push(this.declaration(e));break;case!(e instanceof u):h.push(this.docType(e));break;case!(e instanceof r):h.push(this.comment(e));break;case!(e instanceof p):h.push(this.processingInstruction(e));break;default:h.push(this.element(e))}return h},XMLStreamWriter.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},XMLStreamWriter.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},XMLStreamWriter.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},XMLStreamWriter.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write("?>"),this.stream.write(this.endline(t))},XMLStreamWriter.prototype.docType=function(t,n){var c,u,l,h;if(n||(n=0),this.stream.write(this.space(n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),h=t.children,u=0,l=h.length;u<l;u++)switch(c=h[u],!1){case!(c instanceof i):this.dtdAttList(c,n+1);break;case!(c instanceof o):this.dtdElement(c,n+1);break;case!(c instanceof s):this.dtdEntity(c,n+1);break;case!(c instanceof a):this.dtdNotation(c,n+1);break;case!(c instanceof e):this.cdata(c,n+1);break;case!(c instanceof r):this.comment(c,n+1);break;case!(c instanceof p):this.processingInstruction(c,n+1);break;default:throw new Error("Unknown DTD node type: "+c.constructor.name)}this.stream.write("]")}return this.stream.write(">"),this.stream.write(this.endline(t))},XMLStreamWriter.prototype.element=function(t,n){var i,o,s,a,c,u,f,m;n||(n=0),m=this.space(n),this.stream.write(m+"<"+t.name),u=t.attributes;for(c in u)y.call(u,c)&&(i=u[c],this.attribute(i));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write("/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),f=t.children,s=0,a=f.length;s<a;s++)switch(o=f[s],!1){case!(o instanceof e):this.cdata(o,n+1);break;case!(o instanceof r):this.comment(o,n+1);break;case!(o instanceof l):this.element(o,n+1);break;case!(o instanceof h):this.raw(o,n+1);break;case!(o instanceof d):this.text(o,n+1);break;case!(o instanceof p):this.processingInstruction(o,n+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(m+"</"+t.name+">")}return this.stream.write(this.endline(t))},XMLStreamWriter.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write("?>"+this.endline(t))},XMLStreamWriter.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},XMLStreamWriter.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},XMLStreamWriter.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(">"+this.endline(t))},XMLStreamWriter.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.endline(t))},XMLStreamWriter.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(">"+this.endline(t))},XMLStreamWriter.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(">"+this.endline(t))},XMLStreamWriter.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},XMLStreamWriter}(f)}).call(this)}]);